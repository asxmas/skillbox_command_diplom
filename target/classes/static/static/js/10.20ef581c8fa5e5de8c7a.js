webpackJsonp([10],{GhoM:function(t,e){},Pvj0:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("Dd8w"),s=i.n(n),o=i("NYxO"),a={name:"PushSidebar",props:{value:String},data:function(){return{list:["Все","Комментарии","Друзья"]}},methods:{changePushSidebar:function(t){this.$emit("change-push-sidebar",t)}}},c={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"aside-filter"},[i("h2",{staticClass:"aside-filter__title"},[t._v("Оповещения")]),i("ul",{staticClass:"aside-filter__list"},t._l(t.list,function(e){return i("li",{key:e,staticClass:"aside-filter__item",class:{active:e===t.value},on:{click:function(i){return t.changePushSidebar(e)}}},[t._v(t._s(e))])}),0)])},staticRenderFns:[]},r=i("VU/8")(a,c,!1,null,null,null).exports,l=i("6nA3"),u={name:"PushBlock",data:function(){return{rem:!1}},props:{info:Object},computed:s()({},Object(o.c)("profile/notifications",["getNotificationsTextType","getNotificationsLength"])),methods:s()({},Object(o.b)("profile/notifications",["readOneNotification","apiNotifications"]),{getRouteByNotification:l.a,onDeleteItem:function(t){var e=this;this.rem=!0,setTimeout(function(){e.readOneNotification(t).then(function(){0===e.getNotificationsLength&&e.$router.push("News")})},500)}})},f={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"push-block",class:{removed_block:t.rem}},[i("div",{staticClass:"push__img"},[i("img",{attrs:{src:t.info.photo,alt:t.info.entity_author.first_name}})]),i("p",{staticClass:"push__content"},[i("router-link",{staticClass:"push__content-name",attrs:{to:t.getRouteByNotification(t.info)}},[t._v(t._s(t.info.entity_author.first_name+" "+t.info.entity_author.last_name+" ")+"\n\n"+t._s(" "+t.getNotificationsTextType(t.info.event_type)+" "))]),i("span",{staticClass:"push__content-preview"},[t._v("«"+t._s(t.info.info)+"»")])],1),i("span",{staticClass:"push__time"},[t._v(t._s(t._f("moment")(t.info.sent_time,"from")))]),i("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"Удалить",expression:"'Удалить'",modifiers:{bottom:!0}}],staticClass:"push-block__actions delete",on:{click:function(e){return t.onDeleteItem(t.info.id)}}},[i("simple-svg",{attrs:{filepath:"/static/img/delete.svg"}})],1)])},staticRenderFns:[]};var _={name:"PagePush",components:{PushSidebar:r,PushBlock:i("VU/8")(u,f,!1,function(t){i("Qc/t")},null,null).exports},data:function(){return{activeFilter:"Все"}},computed:s()({},Object(o.c)("profile/notifications",["getNotifications","getNotificationsLength"]),{filterNotifications:function(){switch(this.activeFilter){case"Все":return this.getNotifications;case"Комментарии":return this.getNotifications.filter(function(t){return"POST_COMMENT"===t.event_type||"COMMENT_COMMENT"===t.event_type});case"Друзья":return this.getNotifications.filter(function(t){return"FRIEND_REQUEST"===t.event_type})}}}),methods:s()({},Object(o.b)("profile/notifications",["apiNotifications","readNotifications"]),{onChangeFilter:function(t){this.activeFilter=t}}),beforeRouteEnter:function(t,e,i){i(function(t){t.apiNotifications()})}},h={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page-push inner-page"},[t.getNotificationsLength>0?i("div",{staticClass:"inner-page__main"},t._l(t.filterNotifications,function(t){return i("push-block",{key:t.id,attrs:{info:t}})}),1):t._e(),i("div",{staticClass:"inner-page__aside"},[i("push-sidebar",{on:{"change-push-sidebar":t.onChangeFilter},model:{value:t.activeFilter,callback:function(e){t.activeFilter=e},expression:"activeFilter"}})],1)])},staticRenderFns:[]};var p=i("VU/8")(_,h,!1,function(t){i("GhoM")},null,null);e.default=p.exports},"Qc/t":function(t,e){}});
//# sourceMappingURL=10.20ef581c8fa5e5de8c7a.js.map